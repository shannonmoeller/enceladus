<!doctype html>

<!--
 ! Copyright © Shannon Moeller. All rights reserved. Learn, don't loot.
 !-->

<html dir="ltr" lang="en">
	<head>

		<meta charset="utf-8" />
		<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover,width=device-width" />
		<meta name="description" content="A game by Shannon Moeller for Game Off 2020." />

		<link rel="apple-touch-icon" type="image/png" href="/v2/assets/icon.png" />
		<link rel="icon" type="image/png" href="/v2/assets/icon.png" />
		<link rel="manifest" href="/manifest.json" />

		<title>Enceladus</title>

		<script type="module">
			import '/v2/assets/game/enc-router/index.js';
			import '/v2/assets/game/enc-menu/index.js';
			import '/v2/assets/game/enc-game/index.js';
			import '/v2/assets/game/enc-options/index.js';
			import '/v2/assets/game/enc-credits/index.js';
			import '/v2/assets/game/enc-tutorial/index.js';
		</script>

		<style>
			@import '/v2/assets/theme.css';
			@import '/v2/assets/html.css';
			@import '/v2/assets/game/enc-game/index.css';
		</style>

	</head>
	<body class="game">

		<enc-router>
			<enc-route class="game-splash" name="menu">
				<enc-menu class="game-page">
					<h1 class="game-title">Enceladus</h1>
					<ul class="game-menu">
						<li><button class="game-button" ref="continueEl" disabled>Continue</button></li>
						<li><button class="game-button" ref="newEl">New Game</button></li>
						<li><button class="game-button" ref="howToEl">How to Play</button></li>
						<li><button class="game-button" ref="optionsEl">Options</button></li>
						<li><button class="game-button" ref="creditsEl">Credits</button></li>
					</ul>
				</enc-menu>
			</enc-route>

			<enc-route name="game" hidden>
				<enc-game>
					<canvas class="game-canvas" ref="canvasEl"></canvas>

					<div class="game-ui">
						<dl class="game-stats">
							<dt>Time</dt>
							<dd ref="timeEl">0</dd>
							<dt>Distance</dt>
							<dd ref="distanceEl">0</dd>
							<dt>Deaths</dt>
							<dd ref="deathsEl">0</dd>
						</dl>

						<button class="game-left" ref="leftEl">Left</button>
						<button class="game-right" ref="rightEl">Right</button>
						<button class="game-pause" ref="pauseEl">Pause</button>
					</div>
				</enc-game>
			</enc-route>

			<enc-route name="howTo" hidden>
				<enc-tutorial class="game-page">
					<h2 class="game-subtitle">How to Play</h2>
					<p>To move left, tap <kbd>a</kbd>, <kbd>←</kbd>, or the left half of the screen.</p>
					<p>To move right, tap <kbd>d</kbd>, <kbd>→</kbd>, or the right half of the screen.</p>
					<p>This game is a progressive web app and may be installed by adding it to your homescreen.</p>
					<h2 class="game-subtitle">Story</h2>
					<p>You've crash landed into Enceladus, a moon of Saturn. You're 9.5au from the sun, trapped under 20km of ice, with only a strange chemiluminescent glow from the subterranean ocean to light your way.</p>
					<p>A rescue ship is waiting in orbit. To reach it you must travel to the south pole and be shot out of a geyser using your thrusters to jump from gas pocket to gas pocket.</p>
					<p>Watch your head.</p>
					<button class="game-button" ref="backEl">Back</button>
				</enc-tutorial>
			</enc-route>

			<enc-route name="options" hidden>
				<enc-options class="game-page">
					<h2 class="game-subtitle">Options</h2>
					<ul class="game-options">
						<li>
							<label class="game-option">
								Volume
								<input type="range" ref="volumeEl" value="1" min="0" max="1" step="0.05" />
							</label>
						</li>
						<li>
							<label class="game-option">
								Quality
								<input type="range" ref="qualityEl" value="1" min="0.1" max="1" step="0.05" />
							</label>
						</li>
					</ul>
					<button class="game-button" ref="backEl">Back</button>
				</enc-options>
			</enc-route>

			<enc-route name="credits" hidden>
				<enc-credits class="game-page">
					<h2 class="game-subtitle">Credits</h2>
					<dl class="game-credits">
						<dt>Art and development</dt>
						<dd><a class="game-button" href="https://github.com/shannonmoeller">Shannon Moeller</a></dd>
						<dt>Feedback, testing, and encouragement</dt>
						<dd><a class="game-button" href="https://github.com/diego-escalante">Diego Escalante</a></dd>
						<dd><a class="game-button" href="https://github.com/prestaul">Matt Dunlap</a></dd>
					</dl>
					<button class="game-button" ref="backEl">Back</button>
				</enc-credits>
			</enc-route>
		</enc-router>

	</body>
</html>
